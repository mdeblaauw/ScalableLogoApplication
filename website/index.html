<html lang="eng">
    <head>
        <title>Uploader</title>
    
    </head>
    <body>
        <label for="avatar">Upload a logo:</label>
        
        <input type="file" id="avatar" name="avatar"
       accept="image/png, image/jpeg", onchange="getBinary(this);"/>
       <p id="label"></p>
       <p id="probability"></p>
        
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script src="./uploadImage.js" type="text/javascript"></script>
        <script src="./getLabel.js" type="text/javascript"></script>
        <script>
            const API_URL = 'https://a51ltgx2gh.execute-api.eu-west-1.amazonaws.com/prod'

            function getBinary(input) {
                const file = input.files[0];
                const reader = new FileReader();
                reader.readAsBinaryString(file);
                reader.onload = async function () {
                    const imageId = await uploadImage(reader.result, file.type);
                    return await getLabel(imageId);
                }
                reader.onerror = function (error) {
                    console.log('Error: ', error);
                }
            }
        
        </script>
    </body>
</html>
